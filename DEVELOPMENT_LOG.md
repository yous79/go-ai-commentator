# 【開発日記】Gemini 3 Flash × MCP で作る、論理に基づいた囲碁AI解説システム

最近、私は「バイブコーディング（対話による高速開発）」という手法を用いて、囲碁の局面を正しく、かつ深く解説できるAIシステムの構築に取り組んでいます。使用しているのは Google の最新鋭モデル **Gemini 3 Flash Preview** です。これを **MCP (Model Context Protocol)** で拡張し、無料枠やCLI環境という制約の中で、どこまで本質的な解説が可能かに挑戦しています。

### 1. 何をやっているのか
私が作っているのは、単に「強い手」を示すソフトではありません。最強の囲碁AIである KataGo の精密な計算結果を、Gemini という高度な知性を通じて、**「人間が納得できる言葉」に翻訳するシステム**です。

具体的には、盤上の幾何学的なパターンを読み取る「形状検知」、アキ三角やサカレ形を特定する「悪形検知」、そしてそれらを統合して教育的なレポートを生成するという流れです。この一連の仕組みを、AIとの対話のみで構築しています。無料枠の範囲内でも、適切なプロトコル（MCP）を導入することで、驚くほど高度な動作を実現できています。

### 2. 何にフォーカスしているのか
本プロジェクトで重視したのは、いきなり高度な評価値を語らせることではなく、**「悪形（アキ三角、サカレ形など）」を徹底的に言語化する**ことです。

AIはそのままでは、座標を間違えたり、雰囲気だけで解説したりする「ハルシネーション（情報の捏造）」を起こしがちです。これを防ぐために、以下のような工夫を凝らしました。
*   **論理の構造化**: 形状を JSON で宣言的に定義し、回転や反転を自動的に網羅する仕組み。
*   **セルフチェックの徹底**: AI自身に生成内容を検証させ、論理的に正しいものだけを出力させる。
*   **専門知識の統合**: 囲碁の格言や定型表現を知識ベースとして取り込む。

これらを通じて、「AIの計算力」を「人間が棋力向上に使える知恵」へと変換することを目指しています。

### 3. なぜそうしたのか（思想・動機）
動機はシンプルです。**「既存の生成AIは、囲碁をまともに語れない」**という現状に対する課題意識です。

現在の生成AIは凄まじい能力を持っていますが、囲碁に関してはまだ石の配置を誤認するという致命的な弱点があります。一方で、[LLMとMCPの連携を解説した技術記事](https://igo-kids.com/llm-mcp-katago-sgftopng/)や、市販ソフト[『銀星囲碁23』のレビュー動画](https://www.youtube.com/live/XmI6Uu47Q3g?si=9I7i8GgEgKVvT9Xj)などを見るにつれ、技術的にはもう解決可能なはずだという確信がありました。

「誰かがもうやっているはずなのに、表に出ていない。ならば、自分で作ってその過程ごと公開してしまおう」と考えたのが、このプロジェクトの始まりでした。

### 4. 迷走と、MCPによる劇的な改善
開発は決して順風満帆ではありませんでした。実を言うと、最初からこの正解に辿り着けたわけではありません。

初期段階では、私の「最初から MCP を導入すべきだ」という考えに対し、AIから「Function calling の方が手軽に実装できますよ」という提案がありました。私はその提案を受け入れましたが、結果として10時間以上の時間を費やすことになってしまいました。

実際に動かしてみると、Function calling は融通が利かず、エラーが多発しました。また、新機能を追加しようとするたびにシステム全体が複雑になりすぎてしまい、AIが盤面の状況を正確に保持し続けることも難しくなりました。

そこで私は、根本的なリファクタリングを決断しました。知識を外部リソースとして管理し、AIが必要な分だけを自律的に取得する MCP への移行です。
その結果は劇的でした。それまでのエラーが嘘のように消え、新機能の実装も非常にスムーズに進むようになったのです。土台となる論理（プロトコル）を固めることの重要性を、改めて痛感しました。

### 5. 終わりに：挑戦を迷っているあなたへ
バイブコーディングは決して魔法ではありませんが、誰にでも新しい扉を開く可能性を秘めています。
これからこの領域に挑戦しようとしている皆さんに、私が特にお伝えしたいのは以下の3点です。

*   **「まずやってみること」**: これが最も重要です。
*   **「小さくでも始めてみること」**: 最初から完璧を目指す必要はありません。
*   **「経験者の失敗談を取り込むこと」**: 泥臭い失敗こそが、次のステップへの大きなヒントになります。

この日記が、囲碁とAIの融合を目指す誰かの参考になれば幸いです。私も引き続き、さらなる機能の充実に励んでいきたいと思います。
